{% extends "base.html"%}
{% block title %}Inventory{% endblock %}
{% block content %}

<link
  rel="stylesheet"
  href="{{ url_for('static', filename='css/access.css') }}"
/>

<!-- Matches all products of a brand -->
  <div class="brand-results">
  {% if brand_results %}
    <div class="product-modal" role="dialog" aria-modal="true">
      <button class="modal-close" aria-label="Close" onclick="location.href='{{ url_for('display_inventory') }}'">×</button>

      <header class="modal-header">
        <h2>Brand: {{ search_term }}</h2>
      </header>
    

    {% for product_id, product_info, product_display in brand_results %}
      <div class="brand-result">
        <h3>{{ product_info.article_name or product_id }} ({{ product_id }})</h3>
        <ul>
          {% for label, value in product_display %}
            <li><strong>{{ label }}:</strong> {{ value }}</li>
          {% endfor %}
        </ul>
      </div>
    {% endfor %}
  {% endif %}
  </div>
  

  <!-- Matches specific product -->
  {% if product %}
    <div class="product-modal" role="dialog" aria-modal="true">
      <button class="modal-close" aria-label="Close" onclick="location.href='{{ url_for('display_inventory') }}'">×</button>

      <header class="modal-header">
        <h2>Product Information</h2>
      </header>

      <div class="modal-body">
        <div class="form-grid">
          
          {% for label, value in display %}
            <div class="form-row">
              <div class="field-label">{{ label }}</div>
              <div class="field-box">{{ value }}</div>
            </div>
          {% endfor %}
        </div>
      </div>

      <!-- Buttons at the bottom -->
      <footer class="modal-footer">
        <a class="btn btn-cancel" href="{{ url_for('display_inventory') }}">Cancel</a>
        <a class="btn btn-edit" href="{{ url_for('update_product_page') }}">Edit</a>
      </footer>
    </div>
  {% endif %}
{% endblock %}