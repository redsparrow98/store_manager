<!DOCTYPE html>
<html lang="en" data-theme="default">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %}Dashboard{% endblock %}</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/global.css') }}"
    />
    <link
    rel="stylesheet"
    href="{{ url_for('static', filename='css/access.css') }}"
    />
  </head>
  <body>
    <!-- Top navigation bar -->
    <header class="top-navbar">
        <div class = "header-icon">
            <div class="notification">
                <a href="{{ url_for('notifications_page') }}" class="notification-btn" title="Notifications">
                <img
                    src="{{ url_for('static', filename='images/notification.svg') }}"
                    alt="Notifications"
                    class="nav-icon default-icon notification-img"
                />
                  <!-- Christmas notification icon -->
                <span class="nav-icon christmas-notification-icon" aria-hidden="true"></span>
                </a>
            </div>
            <div class="logo">
                <img
                    src="{{ url_for('static', filename='images/logo.svg') }}"
                    alt="Logo"
                    class="nav-icon default-icon logo-img"
                />
                <!-- Christmas logo icon -->
                <span class="nav-icon christmas-logo-icon" aria-hidden="true"></span>
            </div>
    </header>

    <!-- Sidebar navigation  -->
    <aside class="sidebar">
      <div class="sidebar-user">
        <div class="user-icon">
          <img
            src="{{ url_for('static', filename='images/usericon.svg') }}"
            alt="User Icon"
            class="nav-icon default-icon user-icon-img"
          />
          <!-- Christmas user icon -->
          <span class="nav-icon christmas-user-icon" aria-hidden="true"></span>
        </div>

        <span class="user-label">
          {% if current_user.is_authenticated %}
            {{ current_user.id }}
          {% else %}
            Guest
          {% endif %}
        </span>

        {% if access_level %}
          <span class="user-lvl">
            {{ access_level }}
          </span>
        {% endif %}
      </div>
      <nav class="sidebar-nav">
        <nav class="navigation">
          <a href="{{ url_for('dashboard') }}">
            <img
              src="{{ url_for('static', filename='images/home.svg') }}"
              alt="Home Icon"
              class="nav-icon default-icon"
            />
            <!-- Christmas home icon -->
            <span class="nav-icon christmas-home-icon" aria-hidden="true"></span>
            Home
          </a>
          <a href="{{ url_for('display_inventory') }}">
            <img
              src="{{ url_for('static', filename='images/shoppingbag.svg') }}"
              alt="Inventory Icon"
              class="nav-icon default-icon"
            />
            <!-- Christmas inventory icon -->
            <span class="nav-icon christmas-inventory-icon" aria-hidden="true"></span>
            Inventory
          </a>
          <a href="{{ url_for('list_orders_page') }}">
            <img
              src="{{ url_for('static', filename='images/orders.svg') }}"
              alt="Orders Icon"
              class="nav-icon default-icon"
            />
            <!-- Christmas orders icon -->
            <span class="nav-icon christmas-orders-icon" aria-hidden="true"></span>
            Orders
          </a>
          <a href="{{ url_for('returns_page') }}">
            <img
              src="{{ url_for('static', filename='images/notepad.svg') }}"
              alt="Returns Icon"
              class="nav-icon default-icon"
            />
            <!-- Christmas returns icon -->
            <span class="nav-icon christmas-returns-icon" aria-hidden="true"></span>
            Returns
          </a>
          <a href="{{ url_for('account_page') }}">
            <img
              src="{{ url_for('static', filename='images/account.svg') }}"
              alt="Account Icon"
              class="nav-icon default-icon"
            />
            <!-- Christmas account icon -->
            <span class="nav-icon christmas-account-icon" aria-hidden="true"></span>
            Account
          </a>
        </nav>
      </nav>
      <a href="{{ url_for('logout') }}" class="logout-btn">Logout</a>
      <button class="btn-christmas" id="themeToggle">Christmas Mode</button>
    </aside>

    <!-- Main content area -->
    <main class="main-content">
      <section class="content">{% block content %}{% endblock %}</section>
      <!--Add a notification button and logo here-->
    </main>
    <script>
    const html = document.documentElement;
    const toggleBtn = document.getElementById("themeToggle");
        
    // --- Load theme from localStorage on page load ---
    const savedTheme = localStorage.getItem("theme");
    if (savedTheme) {
        html.setAttribute("data-theme", savedTheme);
    }
    
    // --- Toggle theme on button click ---
    toggleBtn.addEventListener("click", () => {
        const current = html.getAttribute("data-theme");
        const newTheme = current === "christmas" ? "default" : "christmas";
        
        html.setAttribute("data-theme", newTheme);
        localStorage.setItem("theme", newTheme); // Save theme persistently
    });
    </script>


  </body>
</html>
