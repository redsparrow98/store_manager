{% extends "base.html" %}
{% block title %}Add product{% endblock %}
{% block content %}

<link rel="stylesheet" href="{{ url_for('static', filename='css/access.css') }}" />

<div class="product-modal" role="dialog" aria-modal="true">
    <!-- X button to close page -->
    <button class="modal-close" aria-label="Close" onclick="location.href='{{ url_for('display_inventory') }}'">Ã—</button>
    <header class="modal-header">
        <h2>Add product</h2>
    </header>

    <!-- Messages field -->
    <div>
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
            {% if category == 'success' %}
                <div class= "success-message">
                    {{ message }}
                </div>
            {% elif category == 'error' %}
                <div class="error-message">
                    {{ message }}
                </div>
            {% endif %}
            {% endfor %}
        {% endif %}
        {% endwith %}
    
        <!-- Form field for all required fields to add new product -->
        <form method="post" action="{{ url_for('add_product_page') }}">
            <div class="modal-body">
                <div class="form-grid">

                    <div class="form-row">
                        <div class="field-label">Product name</div>
                        <input class="field-box" type="text" name="name" required>
                    </div>

                    <div class="form-row">
                        <div class="field-label">Brand</div>
                        <input class="field-box" name="brand" required>
                    </div>

                    <div class="form-row">
                        <div class="field-label">Price (SEK)</div>
                        <input class="field-box" name="price" type="number" step="0.01" min="0" required>
                    </div>

                    <!-- Select category drop down menu -->
                    <div class="form-row">
                        <div class="field-label">Category</div>
                        <select class="field-box" name="category" required>
                            <option value="">Select category</option>
                            <option value="Phones">Phones</option>
                            <option value="Tablets">Tablets</option>
                            <option value="Headphones">Headphones</option>
                            <option value="Speakers">Speakers</option>
                            <option value="Computers">Computers</option>
                            <option value="Smart Watches">Smart watches</option>
                            <option value="Accessories">Accessories</option>
                        </select>
                    </div>

                    <div class="form-row">
                        <div class="field-label">Discount percentage</div>
                        <input class="field-box" name="discount" type="number" step="0.01" min="0" max="100" required value="0">
                    </div>

                    <div class="form-row">
                        <div class="field-label">Stock amount</div>
                        <input class="field-box" name="stock" type="number" min="0" required>
                    </div>

                </div>
            </div>

            <!-- Buttons at the bottom -->
            <div class="modal-footer">
                <a class="btn btn-cancel" href="{{ url_for('display_inventory') }}">Cancel</a>
                <button type="submit" class="btn btn-edit">Add Product</button>
            </div>

        </form>
    </div>
</div>
{% endblock %}